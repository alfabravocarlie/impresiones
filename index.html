<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Impresiones y Llenado de Memorias Anita y Ale - Matanzas</title>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-B7X8N809GZ"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-B7X8N809GZ');
    </script>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">

    <!-- AOS Animation Library CSS -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    
    <style>
        /* --- TEMA PREMIUM --- */
        :root {
            --primary-color: #00f2ff;
            --secondary-color: #6c757d;
            --accent-color: #7000ff;
            --success-color: #00ff88;
            --bg-dark: #0a0a12;
            --glass-bg: rgba(255, 255, 255, 0.03);
            --glass-border: rgba(255, 255, 255, 0.08);
        }

        html { scroll-behavior: smooth; }
        body { font-family: 'Roboto', sans-serif; background-color: var(--bg-dark); color: #e0e0e0; overflow-x: hidden; position: relative; }
        h1, h2, h3, h4, h5, h6, .navbar-brand { font-family: 'Outfit', sans-serif !important; }

        /* --- FONDO DE PARTÍCULAS --- */
        #particles-canvas { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; pointer-events: none; }
        
        /* --- SCROLL PROGRESS --- */
        #progress-bar { position: fixed; top: 0; left: 0; height: 3px; background: linear-gradient(90deg, var(--primary-color), var(--accent-color)); width: 0%; z-index: 10001; transition: width 0.1s; box-shadow: 0 0 10px var(--primary-color); }
        
        /* --- PRELOADER --- */
        #preloader { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--bg-dark); z-index: 9999; display: flex; justify-content: center; align-items: center; }
        .loader { width: 48px; height: 48px; border: 3px solid transparent; border-top-color: var(--primary-color); border-bottom-color: var(--accent-color); border-radius: 50%; animation: rotation 1s linear infinite; box-shadow: 0 0 15px var(--primary-color); }
        @keyframes rotation { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        /* --- NAVEGACIÓN --- */
        .navbar { background: rgba(10, 10, 18, 0.85); backdrop-filter: blur(20px); box-shadow: 0 4px 30px rgba(0,0,0,0.5); padding: 15px 0; border-bottom: 1px solid var(--glass-border); }
        .navbar-brand { font-weight: 800; letter-spacing: -0.5px; background: -webkit-linear-gradient(45deg, #fff, #ccc); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .nav-link { font-weight: 500; color: #aaa !important; position: relative; transition: all 0.3s ease; padding: 8px 15px; border-radius: 20px; }
        .nav-link:hover, .nav-link.active { color: #fff !important; background: rgba(255,255,255,0.1); box-shadow: 0 0 10px rgba(0, 242, 255, 0.2); }

        /* --- HERO --- */
        .hero-section { min-height: 100vh; display: flex; align-items: center; justify-content: center; text-align: center; position: relative; overflow: hidden; background: radial-gradient(circle at center, rgba(10, 10, 18, 0) 0%, rgba(0,0,0,0.8) 100%), url('Logo.jpg') no-repeat center center; background-size: cover; background-attachment: fixed; }
        .hero-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(180deg, rgba(10,10,18,0.8) 0%, rgba(10,10,18,0.4) 50%, rgba(10,10,18,0.9) 100%); z-index: 1; }
        .hero-content { position: relative; z-index: 2; }
        .hero-title { font-size: 4rem; font-weight: 800; margin-bottom: 1rem; text-shadow: 0 0 30px rgba(0, 242, 255, 0.4); background: -webkit-linear-gradient(45deg, var(--primary-color), var(--accent-color)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; animation: floatText 3s ease-in-out infinite; }
        .typing-cursor { display: inline-block; width: 3px; height: 1.2em; background-color: var(--primary-color); box-shadow: 0 0 10px var(--primary-color); animation: blink 0.7s infinite; vertical-align: middle; margin-left: 5px; }
        
        /* --- SECCIONES COMUNES --- */
        .section-title { position: relative; margin-bottom: 60px; padding-bottom: 20px; text-align: center; font-weight: 700; color: #fff; }
        .section-title::after { content: ''; position: absolute; bottom: 0; left: 50%; transform: translateX(-50%); width: 80px; height: 4px; background: linear-gradient(90deg, var(--primary-color), var(--accent-color)); border-radius: 2px; box-shadow: 0 0 10px var(--primary-color); }
        .glass-card { background: var(--glass-bg); backdrop-filter: blur(20px); border: 1px solid var(--glass-border); border-radius: 20px; box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37); padding: 50px; margin-bottom: 60px; position: relative; overflow: hidden; }
        .glass-card::before { content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0; border-radius: 25px; padding: 1px; background: linear-gradient(45deg, var(--primary-color), transparent, var(--accent-color)); -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0); mask: linear-gradient(#fff 0 0) content-box; -webkit-mask-composite: exclude; mask-composite: exclude; pointer-events: none; }
        
        /* --- BOTONES --- */
        .magnetic-btn { display: inline-flex; align-items: center; justify-content: center; padding: 15px 40px; border-radius: 50px; font-weight: 600; text-decoration: none; transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1); position: relative; z-index: 10; }
        .btn-neon-light { background: rgba(255,255,255,0.05); border: 1px solid var(--glass-border); color: var(--primary-color); box-shadow: 0 0 15px rgba(0, 242, 255, 0.1); }
        .btn-neon-light:hover { background: rgba(0, 242, 255, 0.1); border-color: var(--primary-color); box-shadow: 0 0 30px rgba(0, 242, 255, 0.4); color: #fff; text-shadow: 0 0 10px var(--primary-color); }
        
        /* --- PRECIOS --- */
        .price-card { background: var(--glass-bg); backdrop-filter: blur(20px); border: 1px solid var(--glass-border); border-radius: 20px; padding: 30px; margin-bottom: 30px; transition: all 0.1s ease; height: 100%; transform-style: preserve-3d; perspective: 1000px; position: relative; overflow: hidden; }
        .price-card::after { content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%; background: radial-gradient(circle, rgba(0, 242, 255, 0.1) 0%, transparent 70%); opacity: 0; transition: opacity 0.5s; }
        .price-card:hover::after { opacity: 1; }
        .price-card:hover { box-shadow: 0 0 30px rgba(0, 242, 255, 0.2), inset 0 0 20px rgba(0, 242, 255, 0.05); border-color: rgba(0, 242, 255, 0.3); }
        .price-item { display: flex; justify-content: space-between; align-items: center; padding: 15px 0; border-bottom: 1px solid rgba(255,255,255,0.05); }
        .price-item:last-child { border-bottom: none; }
        .price { font-weight: 700; color: var(--primary-color); font-size: 1.3rem; text-shadow: 0 0 10px var(--primary-color); }

        /* --- UTILIDADES --- */
        #scrollTopBtn { position: fixed; bottom: 30px; left: 30px; background: var(--accent-color); color: white; width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 24px; cursor: pointer; z-index: 999; opacity: 0; visibility: hidden; transition: all 0.3s ease; box-shadow: 0 0 15px var(--accent-color); }
        #scrollTopBtn.show { opacity: 1; visibility: visible; }

        @media (max-width: 768px) { .hero-title { font-size: 2.5rem; } }
    </style>
</head>
<body>

    <canvas id="particles-canvas"></canvas>
    <div id="progress-bar"></div>
    <div id="preloader"><div class="loader"></div></div>
    <div id="scrollTopBtn" onclick="scrollToTop()"><i class="bi bi-arrow-up-short"></i></div>

    <!-- NAVEGACIÓN -->
    <nav class="navbar navbar-expand-lg navbar-dark sticky-top">
        <div class="container">
            <a class="navbar-brand" href="#inicio"><i class="bi bi-printer-fill me-2"></i> Calidad Inigualable</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon bg-light"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="#inicio">Inicio</a></li>
                    <li class="nav-item"><a class="nav-link" href="#nosotros">Nosotros</a></li>
                    <li class="nav-item"><a class="nav-link" href="#equipo">Equipo</a></li>
                    <li class="nav-item"><a class="nav-link" href="#estadisticas">Estadísticas</a></li>
                    <li class="nav-item"><a class="nav-link" href="#servicios">Servicios</a></li>
                    <li class="nav-item"><a class="nav-link" href="#buscador">Catálogo</a></li>
                    <li class="nav-item"><a class="nav-link" href="#testimonios">Testimonios</a></li>
                    <li class="nav-item"><a class="nav-link" href="#faq">Preguntas</a></li>
                    <li class="nav-item"><a class="nav-link" href="#contacto">Contacto</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- HERO SECTION -->
    <section id="inicio" class="hero-section">
        <div class="hero-overlay"></div>
        <div class="container hero-content">
            <h1 class="hero-title mb-3" id="hero-title-text">Cargando...</h1>
            <h2 class="display-6 fw-light mb-4">
                <span id="typewriter-text"></span><span class="typing-cursor">|</span>
            </h2>
            <div class="d-flex flex-column flex-md-row justify-content-center gap-3 mt-5">
                <a href="https://alfabravocarlie.github.io/Cargue/" target="_blank" class="magnetic-btn btn-neon-light btn-lg">
                    <i class="bi bi-box-seam me-2"></i> <span id="hero-btn-1">Ver Catálogo</span>
                </a>
                <a href="#servicios" class="magnetic-btn btn-neon-success btn-lg">
                    <i class="bi bi-collection-play me-2"></i> <span id="hero-btn-2">Servicios</span>
                </a>
            </div>
        </div>
    </section>

    <!-- NOSOTROS -->
    <section id="nosotros" class="container my-5 py-5">
        <h2 class="section-title" data-aos="fade-up"><span id="about-title-text">Acerca de Nosotros</span></h2>
        <div class="glass-card shadow-sm" data-aos="fade-up" data-aos-delay="100">
            <div class="row align-items-center">
                <div class="col-lg-6 mb-4 mb-lg-0 text-center">
                    <div style="display: flex; justify-content: center; align-items: center; background: rgba(0,0,0,0.3); border-radius: 20px; padding: 10px; border: 1px solid var(--glass-border);">
                        <img src="" id="about-img" alt="Nuestra oficina" style="max-width: 100%; max-height: 400px; width: auto; height: auto; object-fit: cover; border-radius: 15px;">
                    </div>
                </div>
                <div class="col-lg-6">
                    <h3 class="mb-4 fw-bold" style="background: -webkit-linear-gradient(45deg, var(--primary-color), var(--accent-color)); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">Bienvenidos a tu mejor opción en Matanzas</h3>
                    <p class="mb-4" style="color: #bbb;" id="about-desc-text">Cargando...</p>
                    <h5 class="mb-3" style="color: var(--primary-color);">¿Por qué elegirnos?</h5>
                    <ul class="list-unstyled mb-4">
                        <li class="mb-3 d-flex align-items-center">
                            <i class="bi bi-check2-circle floating-icon me-3"></i>
                            <div id="feat-1"><strong>Cargando...</strong></div>
                        </li>
                        <li class="mb-3 d-flex align-items-center">
                            <i class="bi bi-speedometer2 floating-icon me-3"></i>
                            <div id="feat-2"><strong>Cargando...</strong></div>
                        </li>
                        <li class="mb-3 d-flex align-items-center">
                            <i class="bi bi-shield-check floating-icon me-3"></i>
                            <div id="feat-3"><strong>Cargando...</strong></div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- EQUIPO -->
    <section id="equipo" class="container my-5 py-5">
        <h2 class="section-title" data-aos="fade-up">Nuestro Equipo</h2>
        <div class="row g-4">
            <div class="col-md-6" data-aos="fade-right">
                <div class="glass-card h-100 text-center" style="padding: 30px; background: rgba(255,255,255,0.03); border: 1px solid var(--glass-border); backdrop-filter: blur(20px); transition: transform 0.3s ease;">
                    <img src="" id="team-img-1" alt="Anita" class="mb-3 rounded-circle" style="width: 100px; height: 100px; object-fit: cover; border: 3px solid var(--primary-color);">
                    <h4 id="team-name-1">Cargando...</h4>
                    <p class="fw-bold" style="color: var(--primary-color);" id="team-role-1">...</p>
                    <p style="font-size: 0.9rem; color: #999;">Cargando...</p>
                </div>
            </div>
            <div class="col-md-6" data-aos="fade-left">
                <div class="glass-card h-100 text-center" style="padding: 30px; background: rgba(255,255,255,0.03); border: 1px solid var(--glass-border); backdrop-filter: blur(20px); transition: transform 0.3s ease;">
                    <img src="" id="team-img-2" alt="Ale" class="mb-3 rounded-circle" style="width: 100px; height: 100px; object-fit: cover; border: 3px solid var(--accent-color);">
                    <h4 id="team-name-2">Cargando...</h4>
                    <p class="fw-bold" style="color: var(--success-color);" id="team-role-2">...</p>
                    <p style="font-size: 0.9rem; color: #999;">Cargando...</p>
                </div>
            </div>
        </div>
    </section>

    <!-- ESTADISTICAS -->
    <section id="estadisticas" class="glass-card mx-3 my-5 py-5" style="background: rgba(0,0,0,0.5); backdrop-filter: blur(10px); border: 1px solid var(--glass-border); padding: 60px 0;">
        <div class="container">
            <div class="row text-center">
                <div class="col-md-4 mb-4 mb-md-0 stat-item" data-aos="fade-up" data-aos-delay="0">
                    <i class="bi bi-people fs-1 mb-2 d-block" style="color: var(--primary-color);"></i>
                    <h3 class="counter" data-target="0" id="stat-clients-num">0</h3>
                    <p id="stat-clients-label">Clientes Satisfechos</p>
                </div>
                <div class="col-md-4 mb-4 mb-md-0 stat-item" data-aos="fade-up" data-aos-delay="200">
                    <i class="bi bi-hdd-stack fs-1 mb-2 d-block" style="color: var(--accent-color);"></i>
                    <h3 class="counter" data-target="0" id="stat-mem-num">0</h3>
                    <p id="stat-mem-label">Memorias Llenadas</p>
                </div>
                <div class="col-md-4 stat-item" data-aos="fade-up" data-aos-delay="400">
                    <i class="bi bi-star fs-1 mb-2 d-block" style="color: var(--warning-color);"></i>
                    <h3 class="counter" data-target="0" id="stat-years-num">0</h3>
                    <p id="stat-years-label">Años de Experiencia</p>
                </div>
            </div>
        </div>
    </section>

    <!-- SERVICIOS -->
    <section id="servicios" class="container my-5 py-5">
        <h2 class="section-title" data-aos="fade-up">Nuestros Servicios</h2>
        
        <div class="row g-4">
            <div class="col-md-6 col-lg-4" data-aos="fade-up" data-aos-delay="100">
                <div class="price-card h-100 text-center tilt-card">
                    <div class="mb-3" style="color: var(--primary-color);"><i class="bi bi-file-text fs-1"></i></div>
                    <h5 class="mb-4 fw-bold">Texto</h5>
                    <div class="price-item justify-content-between px-4"><span>B/N</span><span class="price" id="price-texto-bn">...</span></div>
                    <div class="price-item justify-content-between px-4"><span>Color</span><span class="price" id="price-texto-color">...</span></div>
                </div>
            </div>
            <div class="col-md-6 col-lg-4" data-aos="fade-up" data-aos-delay="200">
                <div class="price-card h-100 text-center tilt-card">
                    <div class="mb-3" style="color: var(--primary-color);"><i class="bi bi-image fs-1"></i></div>
                    <h5 class="mb-4 fw-bold">Imágenes</h5>
                    <div class="price-item justify-content-between px-4"><span>B/N</span><span class="price" id="price-imagen-bn">...</span></div>
                    <div class="price-item justify-content-between px-4"><span>Color</span><span class="price" id="price-imagen-color">...</span></div>
                </div>
            </div>
            <div class="col-md-6 col-lg-4" data-aos="fade-up" data-aos-delay="300">
                <div class="price-card h-100 text-center tilt-card">
                    <div class="mb-3" style="color: var(--primary-color);"><i class="bi bi-file-earmark-copy fs-1"></i></div>
                    <h5 class="mb-4 fw-bold">Fotocopias</h5>
                    <div class="price-item justify-content-between px-4"><span>B/N</span><span class="price" id="price-foto-bn">...</span></div>
                    <div class="price-item justify-content-between px-4"><span>Color</span><span class="price" id="price-foto-color">...</span></div>
                </div>
            </div>
            <div class="col-md-6 col-lg-4" data-aos="fade-up" data-aos-delay="400">
                <div class="price-card h-100 text-center tilt-card">
                    <div class="mb-3" style="color: var(--accent-color);"><i class="bi bi-pencil-square fs-1"></i></div>
                    <h5 class="mb-4 fw-bold">Adicionales</h5>
                    <div class="price-item justify-content-between px-4"><span>Edición</span><span class="price" id="price-edicion">...</span></div>
                </div>
            </div>
            <div class="col-md-6 col-lg-4" data-aos="fade-up" data-aos-delay="500">
                <div class="price-card h-100 text-center tilt-card">
                    <div class="mb-3" style="color: var(--warning-color);"><i class="bi bi-credit-card fs-1"></i></div>
                    <h5 class="mb-4 fw-bold">Plasticado</h5>
                    <div class="price-item justify-content-between px-4"><span>Carnet</span><span class="price" id="price-plas-carnet">...</span></div>
                    <div class="price-item justify-content-between px-4"><span>1/2 Carta</span><span class="price" id="price-plas-medio">...</span></div>
                    <div class="price-item justify-content-between px-4"><span>Carta</span><span class="price" id="price-plas-carta">...</span></div>
                </div>
            </div>
        </div>
        
        <div class="text-center mt-5" data-aos="zoom-in">
            <a href="#" onclick="downloadPrices(event)" class="magnetic-btn btn-neon-light btn-lg rounded-pill">
                <i class="bi bi-file-earmark-pdf me-2"></i> Descargar Lista de Precios
            </a>
        </div>
    </section>

    <!-- BUSCADOR (Simplificado para el ejemplo) -->
    <section id="buscador" class="container my-5 py-5">
        <h2 class="section-title" data-aos="fade-up">Buscador de Catálogo</h2>
        <div class="row justify-content-center">
            <div class="col-lg-8" data-aos="fade-up">
                <div class="glass-card" style="padding: 40px;">
                    <div class="input-group mb-4">
                        <input type="text" class="form-control form-control-lg" id="catalogSearchInput" style="background: rgba(0,0,0,0.3); border: 1px solid var(--glass-border); color: #fff;" placeholder="Buscar...">
                        <button class="btn btn-primary px-4" type="button" style="background: var(--accent-color); border: none;"><i class="bi bi-search"></i></button>
                    </div>
                    <div id="searchResultsArea" class="rounded p-3" style="max-height: 400px; overflow-y: auto; display: none; background: rgba(0,0,0,0.3); border: 1px solid var(--glass-border);"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- CONTACTO -->
    <section id="contacto" class="container my-5 py-5">
        <h2 class="section-title" data-aos="fade-up">Contáctanos</h2>
        <div class="row g-5">
            <div class="col-lg-6" data-aos="fade-right">
                <div class="glass-card h-100" style="padding: 40px; background: rgba(0,0,0,0.3); border: 1px solid var(--glass-border);">
                    <h3 class="mb-4 fw-bold">Información</h3>
                    <div class="contact-info mb-4">
                        <div class="mb-3" style="color: #ccc;"><i class="bi bi-geo-alt-fill me-2" style="color: var(--primary-color);"></i> <span id="contact-address">...</span></div>
                        <div class="mb-3" style="color: #ccc;"><i class="bi bi-telephone-fill me-2" style="color: var(--primary-color);"></i> <span id="contact-phone">...</span></div>
                        <div class="mb-3" style="color: #ccc;"><i class="bi bi-envelope-fill me-2" style="color: var(--primary-color);"></i> <span id="contact-email">...</span></div>
                    </div>
                    <a href="#" id="contact-whatsapp" target="_blank" class="magnetic-btn btn-neon-success w-100 rounded-pill" style="border-radius: 30px; padding: 15px;">
                        <i class="bi bi-whatsapp"></i> Enviar WhatsApp
                    </a>
                </div>
            </div>
        </div>
    </section>

    <a href="#" id="footer-whatsapp" target="_blank" style="position: fixed; bottom: 30px; right: 30px; background-color: var(--success-color); color: white; width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 30px; z-index: 1000; box-shadow: 0 0 20px var(--success-color); text-decoration: none;"><i class="bi bi-whatsapp"></i></a>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <!-- AOS JS -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

    <script>
        AOS.init({ duration: 800, easing: 'ease-in-out', once: true, offset: 100 });

        // --- PRELOADER Y ANIMACIONES ---
        window.addEventListener('load', () => { document.getElementById('preloader').style.opacity = '0'; setTimeout(() => { document.getElementById('preloader').style.display = 'none'; }, 500); });
        
        // Typewriter (Simplificado para no chocar con JSON)
        const phrases = ["Transformamos tus ideas", "Calidad Inigualable", "Matanzas, Cuba"];
        let phraseIndex = 0; let charIndex = 0; let isDeleting = false;
        function type() {
            const currentPhrase = phrases[phraseIndex];
            if (isDeleting) { document.getElementById('typewriter-text').textContent = currentPhrase.substring(0, charIndex - 1); charIndex--; } 
            else { document.getElementById('typewriter-text').textContent = currentPhrase.substring(0, charIndex + 1); charIndex++; }
            if (!isDeleting && charIndex === currentPhrase.length) { isDeleting = true; setTimeout(type, 2000); } 
            else if (isDeleting && charIndex === 0) { isDeleting = false; phraseIndex = (phraseIndex +1) % phrases.length; setTimeout(type, 500); } 
            else { setTimeout(type, isDeleting ? 50 :100); }
        }
        document.addEventListener('DOMContentLoaded', type);

        // --- CARGAR Y RENDERIZAR CONTENIDO (EL CORAZÓN DEL CMS) ---
        async function loadContentAndRender() {
            try {
                const response = await fetch('content.json');
                const data = await response.json();
                
                // 1. HERO
                document.getElementById('hero-title-text').innerText = data.hero.title;
                document.getElementById('hero-btn-1').innerText = data.hero.cta_primary;
                document.getElementById('hero-btn-2').innerText = data.hero.cta_secondary;

                // 2. ABOUT
                document.getElementById('about-title-text').innerText = data.about.title;
                document.getElementById('about-desc-text').innerText = data.about.description;
                document.getElementById('about-img').src = data.about.image_url;
                document.getElementById('feat-1').innerHTML = `<strong>${data.about.features[0].title}:</strong> ${data.about.features[0].desc}`;
                document.getElementById('feat-2').innerHTML = `<strong>${data.about.features[1].title}:</strong> ${data.about.features[1].desc}`;
                document.getElementById('feat-3').innerHTML = `<strong>${data.about.features[2].title}:</strong> ${data.about.features[2].desc}`;

                // 3. TEAM
                if(data.team) {
                    document.getElementById('team-name-1').innerText = data.team[0].name;
                    document.getElementById('team-role-1').innerText = data.team[0].role;
                    // Generar avatar basado en el nombre (placeholder)
                    document.getElementById('team-img-1').src = `https://ui-avatars.com/api/?name=${encodeURIComponent(data.team[0].name)}&background=0D6EFD&color=fff`;
                    
                    if(data.team[1]) {
                        document.getElementById('team-name-2').innerText = data.team[1].name;
                        document.getElementById('team-role-2').innerText = data.team[1].role;
                        document.getElementById('team-img-2').src = `https://ui-avatars.com/api/?name=${encodeURIComponent(data.team[1].name)}&background=25D366&color=fff`;
                        // Actualizar textos de la tarjeta
                        document.querySelector('#team-img-1').nextElementSibling.innerHTML = `<p style="font-size: 0.9rem; color: #999;">${data.team[0].desc}</p>`;
                        document.querySelector('#team-img-2').nextElementSibling.innerHTML = `<p style="font-size: 0.9rem; color: #999;">${data.team[1].desc}</p>`;
                    }
                }

                // 4. STATS (Números)
                document.getElementById('stat-clients-num').innerText = data.stats.clients + '+';
                document.getElementById('stat-mem-num').innerText = data.stats.memories + '+';
                document.getElementById('stat-years-num').innerText = data.stats.years + '+';

                // 5. PRECIOS
                const updatePrice = (id, val) => { const el = document.getElementById(id); if(el) el.innerText = '$' + val; };
                updatePrice('price-texto-bn', data.precios.impresion.texto_bn);
                updatePrice('price-texto-color', data.precios.impresion.texto_color);
                updatePrice('price-imagen-bn', data.precios.impresion.imagen_bn);
                updatePrice('price-imagen-color', data.precios.impresion.imagen_color);
                updatePrice('price-foto-bn', data.precios.impresion.fotocopia_bn);
                updatePrice('price-foto-color', data.precios.impresion.fotocopia_color);
                updatePrice('price-edicion', data.precios.impresion.edicion);
                updatePrice('price-plas-carnet', data.precios.impresion.plasticado_carnet);
                updatePrice('price-plas-medio', data.precios.impresion.plasticado_medio);
                updatePrice('price-plas-carta', data.precios.impresion.plasticado_carta);

                // 6. CONTACTO
                document.getElementById('contact-address').innerText = data.contacto.address;
                document.getElementById('contact-phone').innerText = data.contacto.phone;
                document.getElementById('contact-email').innerText = data.contacto.email;
                document.getElementById('contact-whatsapp').href = data.contacto.whatsapp_link;

            } catch (error) {
                console.error("Error cargando contenido:", error);
                // Si falla, dejar textos por defecto o manejar error visual
            }
        }

        // Llamar al cargar la página
        window.addEventListener('DOMContentLoaded', loadContentAndRender);

        // --- PARTÍCULAS Y MAGNÉTICOS (Mismos Scripts de antes) ---
        const canvas = document.getElementById('particles-canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth; canvas.height = window.innerHeight;
        let particles = []; const particleCount = 60;
        class Particle { constructor(){ this.x = Math.random()*canvas.width; this.y = Math.random()*canvas.height; this.vx = (Math.random()-0.5)*0.5; this.vy = (Math.random()-0.5)*0.5; this.size = Math.random()*2+1;} update(){ this.x+=this.vx; this.y+=this.vy; if(this.x<0||this.x>canvas.width) this.vx*=-1; if(this.y<0||this.y>canvas.height) this.vy*=-1;} draw(){ ctx.beginPath(); ctx.arc(this.x,this.y,this.size,0,Math.PI*2); ctx.fillStyle='rgba(0,242,255,0.5)'; ctx.fill(); }}
        for(let i=0;i<particleCount;i++) particles.push(new Particle());
        function animateParticles(){ ctx.clearRect(0,0,canvas.width,canvas.height); for(let i=0;i<particles.length;i++){ particles[i].update(); particles[i].draw(); for(let j=i;j<particles.length;j++){ const dx=particles[i].x-particles[j].x; const dy=particles[i].y-particles[j].y; const distance=Math.sqrt(dx*dx+dy*dy); if(distance<100){ ctx.beginPath(); ctx.strokeStyle=`rgba(0,242,255,${1-distance/100})`; ctx.lineWidth=0.5; ctx.moveTo(particles[i].x,particles[i].y); ctx.lineTo(particles[j].x,particles[j].y); ctx.stroke(); } } requestAnimationFrame(animateParticles); }
        animateParticles(); window.addEventListener('resize',()=>{ canvas.width=window.innerWidth; canvas.height=window.innerHeight; });

        // 3D Tilt
        const cards = document.querySelectorAll('.tilt-card');
        cards.forEach(card => { card.addEventListener('mousemove', e => { const r=card.getBoundingClientRect(); const x=e.clientX-r.left; const y=e.clientY-r.top; card.style.transform=`perspective(1000px) rotateX(${(y-r.height/2)/20}deg) rotateY(${-(x-r.width/2)/20}deg) scale3d(1.02,1.02,1.02)`; }); card.addEventListener('mouseleave', () => { card.style.transform='perspective(1000px) rotateX(0) rotateY(0) scale3d(1,1,1)'; }); });

        // Magnetic Buttons
        const magnets = document.querySelectorAll('.magnetic-btn');
        magnets.forEach(btn => { btn.addEventListener('mousemove', e => { const r=btn.getBoundingClientRect(); const x=e.clientX-r.left-r.width/2; const y=e.clientY-r.top-r.height/2; btn.style.transform=`translate(${x*0.3}px,${y*0.5}px)`; }); btn.addEventListener('mouseleave', () => { btn.style.transform='translate(0px,0px)'; }); });

        // Scroll
        window.onscroll = function(){ let winScroll=document.body.scrollTop||document.documentElement.scrollTop; let height=document.documentElement.scrollHeight-document.documentElement.clientHeight; let scrolled=(winScroll/height)*100; document.getElementById("progress-bar").style.width=scrolled+"%"; if(winScroll>300) document.getElementById("scrollTopBtn").classList.add("show"); else document.getElementById("scrollTopBtn").classList.remove("show"); };
        function scrollToTop(){ window.scrollTo({top:0,behavior:'smooth'}); }

        // --- LÓGICA DE BÚSQUEDA Y DESCARGA (Ajustada para content.json) ---
        const searchInput = document.getElementById('catalogSearchInput'); const resultsArea = document.getElementById('searchResultsArea'); let catalogData = null; let searchTimeout = null;
        
        fetch('directory_structure.json').then(res => res.json()).then(data => { catalogData=data; }).catch(err => {});
        function performSearch(){ const q=searchInput.value.toLowerCase().trim(); if(!q){ resultsArea.style.display='none'; return;} if(!catalogData) return; const results=[]; function searchRecursive(items, path=""){ items.forEach(item=>{ const p=path?`${path}>${item.name}`:item.name; if(item.name.toLowerCase().includes(q)){ results.push({...item, path:p});} if(item.children){searchRecursive(item.children,p);}});} searchRecursive(catalogData.children); resultsArea.innerHTML=''; if(results.length===0) resultsArea.innerHTML='<div class="text-center text-muted">No se encontraron resultados.</div>'; else { results.forEach(res=>{ const div=document.createElement('div'); div.className='search-result-item p-2 rounded mb-1' style='background:rgba(0,0,0,0.3); cursor:pointer'; div.innerHTML=`${res.name}<br><small class="text-muted" style="font-size:0.7rem;">${res.path}</small>`; resultsArea.appendChild(div);}); } resultsArea.style.display='block'; }
        searchInput.addEventListener('input',()=>{ clearTimeout(searchTimeout); searchTimeout=setTimeout(performSearch,300); });

        // Descargar Precios (Lee del JSON actual)
        function downloadPrices(e) {
            e.preventDefault();
            if(window.contentData) { // Aprovechamos la variable global que cargamos arriba
                const d = window.contentData.precios;
                const c = `LISTA DE PRECIOS\n\nIMPRESIONES:\nTexto B/N: $${d.impresion.texto_bn}\nTexto Color: $${d.impresion.texto_color}\nImagen B/N: $${d.impresion.imagen_bn}\n... (etc)`;
                const blob = new Blob([c], {type:'text/plain'}); const url = URL.createObjectURL(blob); const a = document.createElement('a'); a.href=url; a.download='Precios.txt'; document.body.appendChild(a); a.click(); document.body.removeChild(a); URL.revokeObjectURL(url);
            } else { alert("Espera a que carguen los precios en la página."); }
        }
    </script>
</body>
</html>